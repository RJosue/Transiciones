
<plugdo-form>
    <data>
       {
            "current" : {
            "cue_pregunta" : "",
            "cue_id" : ""
            }
            
       }
    </data>

    <template>
        <!-- <div id="carouselExampleControls" class="carousel slide" data-interval="false">
            <div class="carousel-inner">
                <div class="carousel-item active"> -->
                    <div class="container min-vh shadow-lg p-3 mb-5 bg-white rounded text-center my-5" >
                        <div style="min-height: 4.5rem;">
                            <h3 class="text-center align-middle">[json:current.cue_pregunta]</h3>
                        </div>
                        <div class="row mx-auto">
                            <div class="col-sm-6">
                                <div class="inputGroup">
                                    <input id="radio1" name="radio" type="radio" value="1" data-id="[json:current.id]" />
                                    <label class="shadow p-3 mb-3 bg-white rounded" for="radio1">Totalmente
                                        desacuerdo</label>
                                </div>
                                <div class="inputGroup">
                                    <input id="radio2" name="radio" type="radio" value="2" data-id="[json:current.id]"/>
                                    <label class="shadow p-3 mb-3 bg-white rounded" for="radio2">Desacuerdo</label>
                                </div>
                                <div class="inputGroup">
                                    <input id="3" name="radio" type="radio"value="3"    data-id="[json:current.id]"      />
                             <label class="shadow p-3 mb-3 bg-white rounded" for="3">Ligeramente
                                        desacuerdo</label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="inputGroup">
                                    <input id="radio4" name="radio" type="radio"value="4"  data-id="[json:current.id]"/>
                                    <label class="shadow p-3 mb-3 bg-white rounded" for="radio4">Ligeramente
                                        acuerdo</label>
                                </div>
                                <div class="inputGroup">
                                    <input id="radio5" name="radio" type="radio"value="5"  data-id="[json:current.id]"/>
                                    <label class="shadow p-3 mb-3 bg-white rounded" for="radio5">Deacuerdo</label>
                                </div>
                                <div class="inputGroup">
                                    <input id="radio6" name="radio" type="radio" value="6" data-id="[json:current.id]"/>
                                    <label class="shadow p-3 mb-3 bg-white rounded" for="radio6">Totalemente
                                        deacuerdo</label>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="container text-center">
                            <div class="row"> -->
                            <span class="carousel-control-prev-icon mr-5" id="prev" role="button" ></span>
                            <div id="contador" style="min-width: 15rem; display:inline"></div>  
                            <span class="carousel-control-next-icon ml-5" id="next" role="button" ></span>
                        <!-- </div>
                        </div>                        -->
                </div>
                <!-- </div>                 
            </div> -->
            <!-- <a class="carousel-control-prev" id="prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" id="next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"><span class="glyphicon glyphicon-menu-right"
                        aria-hidden="true"></span>
                </span>
                <span class="sr-only">Next</span>
            </a> -->
        <!-- </div> -->
    </template>
<script>

    $(document).ready(function () {
        var data = view.getData("forma");
        var dataLength = data.contenido.length;
        $("#contador").text(data.current.index + 1 + " / " + dataLength);
        $("#next").click(function (e) {
            e.preventDefault();
            var data = view.getData("forma");
            console.log(data)
            var nextIndex = data.current.index + 1;
            if (nextIndex <= dataLength - 1) {
                data.current = data.contenido[nextIndex]; //Set next index content
                data.current.index = nextIndex; //Set the new current index
                view.setData("forma", data);
            }
            else {
                alert("Ya no hay mas pregunta."); //Terminar APL
            }
        });

        $("#prev").click(function (e) {
            e.preventDefault();
            var data = view.getData("forma");
            var prevIndex = data.current.index - 1;
            if (prevIndex >= 0) {
                data.current = data.contenido[prevIndex];
                data.current.index = prevIndex;
                view.setData("forma", data);
            } else {
                alert("No hay una pregunta previa.");
            }

        });

        //Funcion para obtener el valor de la opcion seleccionada.
        $("input[name=radio]").click(function () {
            var opcion = $("input[name=radio]:checked");
            var valor = opcion.val();
            var id = opcion.attr("data-id");
            //if para ir a la siguiente pregunta
            console.log("opcion: " + valor + " / de la pregunta:" + id);
        })
    });
</script>
</plugdo-form>

